let express,canEditDeletePost,requireSignin,createPostController,imageUploadController,userPostsController,userPostEditController,updatePostController,deletePostController,expressFormidable;_c64‍.w("express",[["default",["express"],function(v){express=v}]]);_c64‍.w("../middlewares",[["canEditDeletePost",["canEditDeletePost"],function(v){canEditDeletePost=v}],["requireSignin",["requireSignin"],function(v){requireSignin=v}]]);_c64‍.w("./../controllers/postCtrl",[["createPostController",["createPostController"],function(v){createPostController=v}],["imageUploadController",["imageUploadController"],function(v){imageUploadController=v}],["userPostsController",["userPostsController"],function(v){userPostsController=v}],["userPostEditController",["userPostEditController"],function(v){userPostEditController=v}],["updatePostController",["updatePostController"],function(v){updatePostController=v}],["deletePostController",["deletePostController"],function(v){deletePostController=v}]]);_c64‍.w("express-formidable",[["default",["expressFormidable"],function(v){expressFormidable=v}]]);










//router object
const router = express.Router();

//routes
router.post("/createpost", requireSignin, createPostController);
//image upload route
router.post(
  "/upload-image",
  requireSignin,
  expressFormidable({ maxFieldsSize: 5 * 1024 * 1024 }),
  imageUploadController
);

//usepost
router.get("/user-post", requireSignin, userPostsController);
//userPOst Edit
router.get("/user-post/:_id", requireSignin, userPostEditController);
// update route
router.put(
  "/update-post/:_id",
  requireSignin,
  canEditDeletePost,
  updatePostController
);
//delete post
router.delete(
  "/delete-post/:_id",
  requireSignin,
  canEditDeletePost,
  deletePostController
);

module.exports = router;
